-- â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
-- â•‘         22S DUELS - CHEAT MENU v3.0                  â•‘
-- â•‘     âœ… Compatible : Delta | Xeno | Mobile            â•‘
-- â•‘           â„ï¸  Flocons de neige animÃ©s                â•‘
-- â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--   DÃ‰TECTION EXECUTOR + COMPATIBILITÃ‰ DELTA / XENO
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local IS_DELTA  = (typeof(getgenv) == "function") -- Delta utilise getgenv
local IS_XENO   = (typeof(syn) == "table") or (typeof(XENO) == "table") or
                  (typeof(getgenv) == "function" and getgenv().XENO ~= nil)
local IS_MOBILE = (game:GetService("UserInputService").TouchEnabled and
                   not game:GetService("UserInputService").KeyboardEnabled)

-- Wrapper sÃ©curisÃ© pour writefile
local function SafeWriteFile(name, data)
    local ok = pcall(function()
        if writefile then writefile(name, data) end
    end)
    return ok
end

-- Wrapper sÃ©curisÃ© pour readfile
local function SafeReadFile(name)
    local ok, result = pcall(function()
        if readfile and isfile and isfile(name) then
            return readfile(name)
        end
        return nil
    end)
    return ok and result or nil
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--         SERVICES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local Players          = game:GetService("Players")
local RunService       = game:GetService("RunService")
local TweenService     = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui          = game:GetService("CoreGui")
local LocalPlayer      = Players.LocalPlayer

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--         CONFIGURATION
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local Config = {
    SpeedBoost          = false,
    BoostSpeed          = 30,
    GalaxyMode          = false,
    GravityPercent      = 70,
    AntiRagdoll         = false,
    HopPower            = 35,
    SpinBot             = false,
    SpinSpeed           = 30,
    SpamBot             = false,
    AutoSteal           = false,
    BatAimbot           = false,
    GalaxySkyBright     = false,
    SpeedWhileStealing  = false,
    StealSpeed          = 29,
    Unwalk              = false,
    OptimizerXRay       = false,
    AutoLeft            = false,
    AutoRight           = false,
}

-- Charger config sauvegardÃ©e si dispo
local savedData = SafeReadFile("22s_config.txt")
if savedData then
    for line in savedData:gmatch("[^\n]+") do
        local k, v = line:match("^(.-)=(.+)$")
        if k and v and Config[k] ~= nil then
            if v == "true" then Config[k] = true
            elseif v == "false" then Config[k] = false
            else
                local n = tonumber(v)
                if n then Config[k] = n end
            end
        end
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--         VARIABLES INTERNES
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local originalWalkSpeed = 16
local originalJumpPower = 50
local originalGravity   = workspace.Gravity
local snowflakes        = {}
local isGuiOpen         = true
local allConnections    = {}

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--   CRÃ‰ATION GUI (CoreGui pour Delta/Xeno)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

-- Supprimer ancienne GUI si elle existe dÃ©jÃ  (re-execute)
pcall(function()
    local old = CoreGui:FindFirstChild("22SDuelsMenu")
    if old then old:Destroy() end
end)
pcall(function()
    local old = LocalPlayer.PlayerGui:FindFirstChild("22SDuelsMenu")
    if old then old:Destroy() end
end)

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name             = "22SDuelsMenu"
ScreenGui.ResetOnSpawn     = false
ScreenGui.ZIndexBehavior   = Enum.ZIndexBehavior.Sibling
ScreenGui.DisplayOrder     = 999
ScreenGui.IgnoreGuiInset   = true -- Important pour mobile plein Ã©cran

-- Delta & Xeno : utiliser CoreGui pour Ã©viter les resets
local guiParent = LocalPlayer.PlayerGui
pcall(function()
    if syn and syn.protect_gui then
        syn.protect_gui(ScreenGui)
        guiParent = CoreGui
    elseif gethui then
        guiParent = gethui()
    elseif IS_DELTA or IS_XENO then
        guiParent = CoreGui
    end
end)

ScreenGui.Parent = guiParent

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--        FOND FLOCONS DE NEIGE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local SnowCanvas = Instance.new("Frame")
SnowCanvas.Name                = "SnowCanvas"
SnowCanvas.Size                = UDim2.new(1, 0, 1, 0)
SnowCanvas.BackgroundTransparency = 1
SnowCanvas.ZIndex              = 1
SnowCanvas.Parent              = ScreenGui

local SNOW_CHARS = {"â„", "âœ¦", "Â·", "*", "â€¢"}

local function CreateSnowflake()
    local snow = Instance.new("TextLabel")
    local sz = math.random(8, 22)
    snow.Size               = UDim2.new(0, sz, 0, sz)
    snow.Position           = UDim2.new(math.random(0, 100) / 100, 0, -0.06, 0)
    snow.BackgroundTransparency = 1
    snow.Text               = SNOW_CHARS[math.random(1, #SNOW_CHARS)]
    snow.TextColor3         = Color3.fromRGB(math.random(180,255), math.random(210,255), 255)
    snow.TextTransparency   = math.random(10, 55) / 100
    snow.TextScaled         = true
    snow.Font               = Enum.Font.GothamBold
    snow.ZIndex             = 2
    snow.Parent             = SnowCanvas

    local sf = {
        label   = snow,
        speed   = math.random(25, 70) / 10,
        drift   = math.random(-25, 25) / 10,
        startX  = snow.Position.X.Scale,
        y       = -0.06,
        elapsed = 0,
    }
    table.insert(snowflakes, sf)
    return sf
end

-- Dispersion initiale
for i = 1, 55 do
    local sf = CreateSnowflake()
    sf.y = math.random(0, 100) / 100
    sf.label.Position = UDim2.new(sf.startX, 0, sf.y, 0)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--      TAILLE ADAPTÃ‰E MOBILE/PC
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local screenSize = workspace.CurrentCamera.ViewportSize
local isMobileSmall = screenSize.X < 600
local FRAME_W = isMobileSmall and 340 or 420
local FRAME_H = isMobileSmall and 500 or 560
local FONT_TITLE = isMobileSmall and 16 or 20
local FONT_ITEM  = isMobileSmall and 10 or 11

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--        FENÃŠTRE PRINCIPALE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local MainFrame = Instance.new("Frame")
MainFrame.Name                = "MainFrame"
MainFrame.Size                = UDim2.new(0, FRAME_W, 0, FRAME_H)
MainFrame.Position            = UDim2.new(0.5, -FRAME_W/2, 0.5, -FRAME_H/2)
MainFrame.BackgroundColor3    = Color3.fromRGB(10, 12, 20)
MainFrame.BorderSizePixel     = 0
MainFrame.ZIndex              = 10
MainFrame.ClipsDescendants    = false
MainFrame.Parent              = ScreenGui

local MainCorner = Instance.new("UICorner")
MainCorner.CornerRadius = UDim.new(0, 12)
MainCorner.Parent = MainFrame

local MainStroke = Instance.new("UIStroke")
MainStroke.Color        = Color3.fromRGB(0, 120, 255)
MainStroke.Thickness    = 1.5
MainStroke.Transparency = 0.3
MainStroke.Parent       = MainFrame

local BgGradient = Instance.new("UIGradient")
BgGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(12, 16, 30)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(7, 9, 18)),
})
BgGradient.Rotation = 135
BgGradient.Parent = MainFrame

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--              HEADER
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local Header = Instance.new("Frame")
Header.Size             = UDim2.new(1, 0, 0, 55)
Header.BackgroundColor3 = Color3.fromRGB(15, 20, 40)
Header.BorderSizePixel  = 0
Header.ZIndex           = 11
Header.Parent           = MainFrame

local HeaderCorner = Instance.new("UICorner")
HeaderCorner.CornerRadius = UDim.new(0, 12)
HeaderCorner.Parent = Header

local HeaderFix = Instance.new("Frame")
HeaderFix.Size             = UDim2.new(1, 0, 0, 15)
HeaderFix.Position         = UDim2.new(0, 0, 1, -15)
HeaderFix.BackgroundColor3 = Color3.fromRGB(15, 20, 40)
HeaderFix.BorderSizePixel  = 0
HeaderFix.ZIndex           = 11
HeaderFix.Parent           = Header

-- Indicateur executor en haut Ã  gauche
local ExecutorBadge = Instance.new("Frame")
ExecutorBadge.Size             = UDim2.new(0, 55, 0, 16)
ExecutorBadge.Position         = UDim2.new(0, 8, 0, 6)
ExecutorBadge.BackgroundColor3 = IS_DELTA and Color3.fromRGB(0, 150, 80) or
                                 IS_XENO  and Color3.fromRGB(120, 0, 200) or
                                             Color3.fromRGB(50, 50, 80)
ExecutorBadge.BorderSizePixel  = 0
ExecutorBadge.ZIndex           = 14
ExecutorBadge.Parent           = Header

local ExBadgeCorner = Instance.new("UICorner")
ExBadgeCorner.CornerRadius = UDim.new(0, 4)
ExBadgeCorner.Parent = ExecutorBadge

local ExBadgeLabel = Instance.new("TextLabel")
ExBadgeLabel.Size               = UDim2.new(1, 0, 1, 0)
ExBadgeLabel.BackgroundTransparency = 1
ExBadgeLabel.Text               = IS_DELTA and "DELTA" or IS_XENO and "XENO" or "EXEC"
ExBadgeLabel.TextColor3         = Color3.fromRGB(255, 255, 255)
ExBadgeLabel.TextSize           = 9
ExBadgeLabel.Font               = Enum.Font.GothamBold
ExBadgeLabel.ZIndex             = 15
ExBadgeLabel.Parent             = ExecutorBadge

local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size                 = UDim2.new(1, -80, 0, 26)
TitleLabel.Position             = UDim2.new(0, 0, 0, 6)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text                 = "22S DUELS"
TitleLabel.TextColor3           = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize             = FONT_TITLE
TitleLabel.Font                 = Enum.Font.GothamBold
TitleLabel.ZIndex               = 12
TitleLabel.Parent               = Header

local SubTitle = Instance.new("TextLabel")
SubTitle.Size                   = UDim2.new(1, -80, 0, 16)
SubTitle.Position               = UDim2.new(0, 0, 0, 33)
SubTitle.BackgroundTransparency = 1
SubTitle.Text                   = "discord.gg/22s"
SubTitle.TextColor3             = Color3.fromRGB(100, 150, 255)
SubTitle.TextSize               = isMobileSmall and 10 or 12
SubTitle.Font                   = Enum.Font.Gotham
SubTitle.ZIndex                 = 12
SubTitle.Parent                 = Header

-- Bouton fermer (plus grand sur mobile)
local CLOSE_SZ = isMobileSmall and 36 or 28
local CloseBtn = Instance.new("TextButton")
CloseBtn.Size             = UDim2.new(0, CLOSE_SZ, 0, CLOSE_SZ)
CloseBtn.Position         = UDim2.new(1, -(CLOSE_SZ + 7), 0, (55 - CLOSE_SZ) / 2)
CloseBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
CloseBtn.Text             = "âœ•"
CloseBtn.TextColor3       = Color3.fromRGB(255, 255, 255)
CloseBtn.TextSize         = isMobileSmall and 16 or 14
CloseBtn.Font             = Enum.Font.GothamBold
CloseBtn.BorderSizePixel  = 0
CloseBtn.ZIndex           = 13
CloseBtn.Parent           = Header

local CloseBtnCorner = Instance.new("UICorner")
CloseBtnCorner.CornerRadius = UDim.new(0, 6)
CloseBtnCorner.Parent = CloseBtn

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--    BOUTON RÃ‰OUVRIR (MOBILE FRIENDLY)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local ReopenBtn = Instance.new("TextButton")
ReopenBtn.Size             = UDim2.new(0, 48, 0, 48)
ReopenBtn.Position         = UDim2.new(0, 10, 0.5, -24)
ReopenBtn.BackgroundColor3 = Color3.fromRGB(0, 110, 255)
ReopenBtn.Text             = "â˜°"
ReopenBtn.TextColor3       = Color3.fromRGB(255, 255, 255)
ReopenBtn.TextSize         = 22
ReopenBtn.Font             = Enum.Font.GothamBold
ReopenBtn.BorderSizePixel  = 0
ReopenBtn.ZIndex           = 50
ReopenBtn.Visible          = false
ReopenBtn.Parent           = ScreenGui

local ReopenCorner = Instance.new("UICorner")
ReopenCorner.CornerRadius = UDim.new(0, 10)
ReopenCorner.Parent = ReopenBtn

local ReopenStroke = Instance.new("UIStroke")
ReopenStroke.Color     = Color3.fromRGB(0, 180, 255)
ReopenStroke.Thickness = 1.5
ReopenStroke.Parent    = ReopenBtn

-- Drag du bouton rÃ©ouvrir (mobile)
local rbDragging, rbDragStart, rbStartPos = false, nil, nil
ReopenBtn.InputBegan:Connect(function(inp)
    if inp.UserInputType == Enum.UserInputType.Touch or
       inp.UserInputType == Enum.UserInputType.MouseButton1 then
        rbDragging = true
        rbDragStart = inp.Position
        rbStartPos = ReopenBtn.Position
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--         SCROLL CONTAINER
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local ScrollFrame = Instance.new("ScrollingFrame")
ScrollFrame.Size                = UDim2.new(1, -10, 1, -110)
ScrollFrame.Position            = UDim2.new(0, 5, 0, 60)
ScrollFrame.BackgroundTransparency = 1
ScrollFrame.BorderSizePixel     = 0
ScrollFrame.ScrollBarThickness  = isMobileSmall and 4 or 3
ScrollFrame.ScrollBarImageColor3 = Color3.fromRGB(0, 120, 255)
ScrollFrame.CanvasSize          = UDim2.new(0, 0, 0, 0)
ScrollFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y
ScrollFrame.ScrollingDirection  = Enum.ScrollingDirection.Y
-- Touch scrolling natif sur mobile
ScrollFrame.ScrollingEnabled    = true
ScrollFrame.ZIndex              = 11
ScrollFrame.Parent              = MainFrame

local CELL_H = isMobileSmall and 80 or 90
local GridLayout = Instance.new("UIGridLayout")
GridLayout.CellSize    = UDim2.new(0.48, -5, 0, CELL_H)
GridLayout.CellPadding = UDim2.new(0.02, 2, 0, 8)
GridLayout.SortOrder   = Enum.SortOrder.LayoutOrder
GridLayout.Parent      = ScrollFrame

local ScrollPadding = Instance.new("UIPadding")
ScrollPadding.PaddingLeft  = UDim.new(0, 5)
ScrollPadding.PaddingRight = UDim.new(0, 5)
ScrollPadding.PaddingTop   = UDim.new(0, 8)
ScrollPadding.Parent       = ScrollFrame

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--        BOUTON SAVE CONFIG
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local SaveBtn = Instance.new("TextButton")
SaveBtn.Size             = UDim2.new(1, -20, 0, 42)
SaveBtn.Position         = UDim2.new(0, 10, 1, -52)
SaveBtn.BackgroundColor3 = Color3.fromRGB(0, 110, 255)
SaveBtn.Text             = "SAVE CONFIG"
SaveBtn.TextColor3       = Color3.fromRGB(255, 255, 255)
SaveBtn.TextSize         = 14
SaveBtn.Font             = Enum.Font.GothamBold
SaveBtn.BorderSizePixel  = 0
SaveBtn.ZIndex           = 12
SaveBtn.Parent           = MainFrame

local SaveCorner = Instance.new("UICorner")
SaveCorner.CornerRadius = UDim.new(0, 8)
SaveCorner.Parent = SaveBtn

local SaveGradient = Instance.new("UIGradient")
SaveGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 140, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 80, 200)),
})
SaveGradient.Rotation = 90
SaveGradient.Parent = SaveBtn

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--   FONCTION CRÃ‰ATION CARD TOGGLE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local function CreateToggleItem(name, configKey, order, hasSlider, sliderKey, sliderMin, sliderMax, keybind)

    local Card = Instance.new("Frame")
    Card.BackgroundColor3 = Color3.fromRGB(18, 24, 42)
    Card.BorderSizePixel  = 0
    Card.ZIndex           = 12
    Card.LayoutOrder      = order
    Card.Parent           = ScrollFrame

    local CardCorner = Instance.new("UICorner")
    CardCorner.CornerRadius = UDim.new(0, 8)
    CardCorner.Parent = Card

    local CardStroke = Instance.new("UIStroke")
    CardStroke.Color     = Color3.fromRGB(30, 50, 90)
    CardStroke.Thickness = 1
    CardStroke.Parent    = Card

    -- Badge keybind
    if keybind then
        local KBadge = Instance.new("Frame")
        KBadge.Size             = UDim2.new(0, 18, 0, 16)
        KBadge.Position         = UDim2.new(0, 6, 0, 6)
        KBadge.BackgroundColor3 = Color3.fromRGB(0, 100, 220)
        KBadge.BorderSizePixel  = 0
        KBadge.ZIndex           = 14
        KBadge.Parent           = Card

        local KBadgeCorner = Instance.new("UICorner")
        KBadgeCorner.CornerRadius = UDim.new(0, 4)
        KBadgeCorner.Parent = KBadge

        local KLabel = Instance.new("TextLabel")
        KLabel.Size               = UDim2.new(1, 0, 1, 0)
        KLabel.BackgroundTransparency = 1
        KLabel.Text               = keybind
        KLabel.TextColor3         = Color3.fromRGB(255,255,255)
        KLabel.TextSize           = 8
        KLabel.Font               = Enum.Font.GothamBold
        KLabel.ZIndex             = 15
        KLabel.Parent             = KBadge
    end

    local NameLabel = Instance.new("TextLabel")
    NameLabel.Size               = UDim2.new(0.7, 0, 0, 20)
    NameLabel.Position           = UDim2.new(0, keybind and 28 or 8, 0, 8)
    NameLabel.BackgroundTransparency = 1
    NameLabel.Text               = name
    NameLabel.TextColor3         = Color3.fromRGB(220, 225, 255)
    NameLabel.TextSize           = FONT_ITEM
    NameLabel.Font               = Enum.Font.GothamSemibold
    NameLabel.TextXAlignment     = Enum.TextXAlignment.Left
    NameLabel.ZIndex             = 13
    NameLabel.Parent             = Card

    -- Toggle switch
    local TBase = Instance.new("Frame")
    TBase.Size             = UDim2.new(0, 38, 0, 20)
    TBase.Position         = UDim2.new(1, -46, 0, 8)
    TBase.BackgroundColor3 = Config[configKey] and Color3.fromRGB(0,120,255) or Color3.fromRGB(40,45,65)
    TBase.BorderSizePixel  = 0
    TBase.ZIndex           = 13
    TBase.Parent           = Card

    local TBaseCorner = Instance.new("UICorner")
    TBaseCorner.CornerRadius = UDim.new(1, 0)
    TBaseCorner.Parent = TBase

    local TKnob = Instance.new("Frame")
    TKnob.Size             = UDim2.new(0, 16, 0, 16)
    TKnob.Position         = Config[configKey] and UDim2.new(1,-18,0.5,-8) or UDim2.new(0,2,0.5,-8)
    TKnob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    TKnob.BorderSizePixel  = 0
    TKnob.ZIndex           = 14
    TKnob.Parent           = TBase

    local TKnobCorner = Instance.new("UICorner")
    TKnobCorner.CornerRadius = UDim.new(1, 0)
    TKnobCorner.Parent = TKnob

    -- Slider (si nÃ©cessaire)
    if hasSlider and sliderKey then
        local SliderRow = Instance.new("Frame")
        SliderRow.Size               = UDim2.new(1, -14, 0, 30)
        SliderRow.Position           = UDim2.new(0, 7, 0, 34)
        SliderRow.BackgroundTransparency = 1
        SliderRow.ZIndex             = 13
        SliderRow.Parent             = Card

        local sliderNames = {
            BoostSpeed = "Boost Speed", GravityPercent = "Gravity %",
            HopPower = "Hop Power", SpinSpeed = "Spin Speed", StealSpeed = "Steal Speed"
        }

        local SNameLbl = Instance.new("TextLabel")
        SNameLbl.Size               = UDim2.new(0.65, 0, 0, 14)
        SNameLbl.BackgroundTransparency = 1
        SNameLbl.Text               = sliderNames[sliderKey] or sliderKey
        SNameLbl.TextColor3         = Color3.fromRGB(130, 160, 220)
        SNameLbl.TextSize           = 9
        SNameLbl.Font               = Enum.Font.Gotham
        SNameLbl.TextXAlignment     = Enum.TextXAlignment.Left
        SNameLbl.ZIndex             = 14
        SNameLbl.Parent             = SliderRow

        local SValLbl = Instance.new("TextLabel")
        SValLbl.Size               = UDim2.new(0.32, 0, 0, 14)
        SValLbl.Position           = UDim2.new(0.68, 0, 0, 0)
        SValLbl.BackgroundTransparency = 1
        SValLbl.Text               = tostring(Config[sliderKey])
        SValLbl.TextColor3         = Color3.fromRGB(0, 180, 255)
        SValLbl.TextSize           = 10
        SValLbl.Font               = Enum.Font.GothamBold
        SValLbl.TextXAlignment     = Enum.TextXAlignment.Right
        SValLbl.ZIndex             = 14
        SValLbl.Parent             = SliderRow

        local SBar = Instance.new("Frame")
        SBar.Size             = UDim2.new(1, 0, 0, 6)
        SBar.Position         = UDim2.new(0, 0, 0, 18)
        SBar.BackgroundColor3 = Color3.fromRGB(30, 40, 70)
        SBar.BorderSizePixel  = 0
        SBar.ZIndex           = 14
        SBar.Parent           = SliderRow

        local SBarCorner = Instance.new("UICorner")
        SBarCorner.CornerRadius = UDim.new(1, 0)
        SBarCorner.Parent = SBar

        local SFill = Instance.new("Frame")
        local initPct = math.clamp((Config[sliderKey] - sliderMin) / (sliderMax - sliderMin), 0, 1)
        SFill.Size             = UDim2.new(initPct, 0, 1, 0)
        SFill.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
        SFill.BorderSizePixel  = 0
        SFill.ZIndex           = 15
        SFill.Parent           = SBar

        local SFillCorner = Instance.new("UICorner")
        SFillCorner.CornerRadius = UDim.new(1, 0)
        SFillCorner.Parent = SFill

        -- Handle drag slider (Touch + Mouse)
        local isDragging = false

        local function HandleSliderInput(inputPos)
            local barAbsPos  = SBar.AbsolutePosition
            local barAbsSize = SBar.AbsoluteSize
            local relX = math.clamp((inputPos.X - barAbsPos.X) / barAbsSize.X, 0, 1)
            local value = math.floor(sliderMin + relX * (sliderMax - sliderMin))
            Config[sliderKey] = value
            SFill.Size = UDim2.new(relX, 0, 1, 0)
            SValLbl.Text = tostring(value)
        end

        SBar.InputBegan:Connect(function(inp)
            if inp.UserInputType == Enum.UserInputType.MouseButton1 or
               inp.UserInputType == Enum.UserInputType.Touch then
                isDragging = true
                HandleSliderInput(inp.Position)
            end
        end)

        local uis_conn = UserInputService.InputChanged:Connect(function(inp)
            if isDragging and (
                inp.UserInputType == Enum.UserInputType.MouseMovement or
                inp.UserInputType == Enum.UserInputType.Touch) then
                HandleSliderInput(inp.Position)
            end
        end)
        table.insert(allConnections, uis_conn)

        local uis_end = UserInputService.InputEnded:Connect(function(inp)
            if inp.UserInputType == Enum.UserInputType.MouseButton1 or
               inp.UserInputType == Enum.UserInputType.Touch then
                isDragging = false
            end
        end)
        table.insert(allConnections, uis_end)
    end

    -- Toggle logic avec animation
    local function RefreshToggleVisual()
        local on = Config[configKey]
        TweenService:Create(TBase,   TweenInfo.new(0.18), {
            BackgroundColor3 = on and Color3.fromRGB(0,120,255) or Color3.fromRGB(40,45,65)
        }):Play()
        TweenService:Create(TKnob,   TweenInfo.new(0.18), {
            Position = on and UDim2.new(1,-18,0.5,-8) or UDim2.new(0,2,0.5,-8)
        }):Play()
        TweenService:Create(CardStroke, TweenInfo.new(0.18), {
            Color = on and Color3.fromRGB(0,100,220) or Color3.fromRGB(30,50,90)
        }):Play()
    end

    -- Touch + Mouse support
    TBase.InputBegan:Connect(function(inp)
        if inp.UserInputType == Enum.UserInputType.MouseButton1 or
           inp.UserInputType == Enum.UserInputType.Touch then
            Config[configKey] = not Config[configKey]
            RefreshToggleVisual()
        end
    end)

    -- Tap sur toute la card (mobile plus facile Ã  taper)
    Card.InputBegan:Connect(function(inp)
        if inp.UserInputType == Enum.UserInputType.Touch then
            -- Petit dÃ©lai pour diffÃ©rencier tap et scroll
            task.delay(0.05, function()
                if inp.UserInputType == Enum.UserInputType.Touch then
                    Config[configKey] = not Config[configKey]
                    RefreshToggleVisual()
                end
            end)
        end
    end)

    return Card
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--      CRÃ‰ATION DE TOUS LES ITEMS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CreateToggleItem("Speed Boost",          "SpeedBoost",         1,  true,  "BoostSpeed",     1, 100, "V")
CreateToggleItem("Galaxy Mode",          "GalaxyMode",         2,  true,  "GravityPercent", 1, 200, "M")
CreateToggleItem("Anti Ragdoll",         "AntiRagdoll",        3,  true,  "HopPower",       1, 200, nil)
CreateToggleItem("Spin Bot",             "SpinBot",            4,  true,  "SpinSpeed",      1, 100, "N")
CreateToggleItem("Speed Steal",          "SpeedWhileStealing", 5,  true,  "StealSpeed",     1, 100, nil)
CreateToggleItem("Spam Bot",             "SpamBot",            6,  false, nil, nil, nil,   nil)
CreateToggleItem("Unwalk",               "Unwalk",             7,  false, nil, nil, nil,   nil)
CreateToggleItem("Auto Steal",           "AutoSteal",          8,  false, nil, nil, nil,   nil)
CreateToggleItem("Optimizer + XRay",     "OptimizerXRay",      9,  false, nil, nil, nil,   nil)
CreateToggleItem("Bat Aimbot",           "BatAimbot",          10, false, nil, nil, nil,   "X")
CreateToggleItem("Auto Left",            "AutoLeft",           11, false, nil, nil, nil,   "Z")
CreateToggleItem("Galaxy Sky Bright",    "GalaxySkyBright",    12, false, nil, nil, nil,   nil)
CreateToggleItem("Auto Right",           "AutoRight",          13, false, nil, nil, nil,   "C")

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--       LOGIQUE DES CHEATS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local function GetChar()     return LocalPlayer.Character end
local function GetHum()      local c = GetChar() return c and c:FindFirstChildOfClass("Humanoid") end
local function GetRoot()     local c = GetChar() return c and c:FindFirstChild("HumanoidRootPart") end

-- Speed Boost
local SpeedConn
local function ApplySpeedBoost()
    if SpeedConn then SpeedConn:Disconnect() SpeedConn = nil end
    if Config.SpeedBoost then
        SpeedConn = RunService.Heartbeat:Connect(function()
            local h = GetHum() if h then h.WalkSpeed = Config.BoostSpeed end
        end)
    else
        local h = GetHum() if h then h.WalkSpeed = originalWalkSpeed end
    end
end

-- Anti Ragdoll
local ARConn
local function ApplyAntiRagdoll()
    if ARConn then ARConn:Disconnect() ARConn = nil end
    if Config.AntiRagdoll then
        ARConn = RunService.Heartbeat:Connect(function()
            local c = GetChar() if not c then return end
            for _, p in pairs(c:GetDescendants()) do
                if p:IsA("BasePart") then p.CanCollide = true end
            end
            local h = GetHum()
            if h then
                h:SetStateEnabled(Enum.HumanoidStateType.Ragdoll, false)
                h:SetStateEnabled(Enum.HumanoidStateType.FallingDown, false)
            end
        end)
    end
end

-- Galaxy Mode
local function ApplyGalaxyMode()
    if Config.GalaxyMode then
        workspace.Gravity = originalGravity * (Config.GravityPercent / 100)
        local h = GetHum() if h then h.JumpPower = Config.HopPower end
    else
        workspace.Gravity = originalGravity
        local h = GetHum() if h then h.JumpPower = originalJumpPower end
    end
end

-- Spin Bot
local SpinConn
local function ApplySpinBot()
    if SpinConn then SpinConn:Disconnect() SpinConn = nil end
    if Config.SpinBot then
        SpinConn = RunService.Heartbeat:Connect(function()
            local r = GetRoot()
            if r then r.CFrame = r.CFrame * CFrame.fromEulerAnglesXYZ(0, math.rad(Config.SpinSpeed), 0) end
        end)
    end
end

-- Unwalk
local UnwalkConn
local function ApplyUnwalk()
    if UnwalkConn then UnwalkConn:Disconnect() UnwalkConn = nil end
    if Config.Unwalk then
        UnwalkConn = RunService.Heartbeat:Connect(function()
            local h = GetHum() if h then h.WalkSpeed = 0 end
        end)
    else
        if not Config.SpeedBoost then
            local h = GetHum() if h then h.WalkSpeed = originalWalkSpeed end
        end
    end
end

-- Auto Steal
local StealConn
local function ApplyAutoSteal()
    if StealConn then StealConn:Disconnect() StealConn = nil end
    if Config.AutoSteal then
        StealConn = RunService.Heartbeat:Connect(function()
            local r = GetRoot() if not r then return end
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("BasePart") and obj.Name:lower():find("ball") then
                    if (obj.Position - r.Position).Magnitude < 20 then
                        local dir = (obj.Position - r.Position).Unit
                        r.CFrame = CFrame.new(obj.Position - dir * 3, obj.Position)
                        break
                    end
                end
            end
        end)
    end
end

-- Bat Aimbot
local AimbotConn
local function ApplyBatAimbot()
    if AimbotConn then AimbotConn:Disconnect() AimbotConn = nil end
    if Config.BatAimbot then
        AimbotConn = RunService.Heartbeat:Connect(function()
            local r = GetRoot() if not r then return end
            local closest, closestDist = nil, math.huge
            for _, plr in pairs(Players:GetPlayers()) do
                if plr ~= LocalPlayer and plr.Character then
                    local pr = plr.Character:FindFirstChild("HumanoidRootPart")
                    if pr then
                        local d = (pr.Position - r.Position).Magnitude
                        if d < closestDist then closestDist = d closest = pr end
                    end
                end
            end
            if closest and closestDist < 50 then
                r.CFrame = CFrame.new(r.Position, closest.Position)
            end
        end)
    end
end

-- Speed While Stealing
local SpeedStealConn
local function ApplySpeedStealing()
    if SpeedStealConn then SpeedStealConn:Disconnect() SpeedStealConn = nil end
    if Config.SpeedWhileStealing then
        SpeedStealConn = RunService.Heartbeat:Connect(function()
            local h = GetHum() if not h or Config.SpeedBoost then return end
            local r = GetRoot() if not r then return end
            for _, obj in pairs(workspace:GetDescendants()) do
                if obj:IsA("BasePart") and obj.Name:lower():find("ball") then
                    if (obj.Position - r.Position).Magnitude < 15 then
                        h.WalkSpeed = Config.StealSpeed return
                    end
                end
            end
            h.WalkSpeed = originalWalkSpeed
        end)
    end
end

-- Spam Bot
local SpamConn
local function ApplySpamBot()
    if SpamConn then SpamConn:Disconnect() SpamConn = nil end
    if Config.SpamBot then
        local t = 0
        SpamConn = RunService.Heartbeat:Connect(function(dt)
            t = t + dt
            if t >= 0.05 then t = 0
                local h = GetHum() if h then h.Jump = true end
            end
        end)
    end
end

-- Auto Move
local AutoMoveConn
local function ApplyAutoMove()
    if AutoMoveConn then AutoMoveConn:Disconnect() AutoMoveConn = nil end
    if Config.AutoRight or Config.AutoLeft then
        AutoMoveConn = RunService.Heartbeat:Connect(function()
            local r = GetRoot() if not r then return end
            r.Velocity = r.CFrame.RightVector * (Config.AutoRight and 20 or -20)
        end)
    end
end

-- Optimizer + XRay
local function ApplyOptimizerXRay()
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") then
            if Config.OptimizerXRay then
                if not obj:IsDescendantOf(LocalPlayer.Character or Instance.new("Model")) then
                    pcall(function() obj.LocalTransparencyModifier = 0.7 end)
                end
            else
                pcall(function() obj.LocalTransparencyModifier = 0 end)
            end
        end
    end
end

-- Galaxy Sky Bright
local function ApplyGalaxySkyBright()
    local L = game:GetService("Lighting")
    if Config.GalaxySkyBright then
        L.Brightness = 5
        L.Ambient    = Color3.fromRGB(50, 80, 150)
        L.OutdoorAmbient = Color3.fromRGB(30, 50, 120)
    else
        L.Brightness = 1
        L.Ambient    = Color3.fromRGB(127,127,127)
        L.OutdoorAmbient = Color3.fromRGB(127,127,127)
    end
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--        SAVE CONFIG
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SaveBtn.MouseButton1Click:Connect(function()
    TweenService:Create(SaveBtn, TweenInfo.new(0.1), {BackgroundColor3 = Color3.fromRGB(0,200,100)}):Play()
    SaveBtn.Text = "âœ“ SAVED!"
    local data = ""
    for k, v in pairs(Config) do data = data..k.."="..tostring(v).."\n" end
    local ok = SafeWriteFile("22s_config.txt", data)
    task.wait(1.5)
    TweenService:Create(SaveBtn, TweenInfo.new(0.2), {BackgroundColor3 = Color3.fromRGB(0,110,255)}):Play()
    SaveBtn.Text = "SAVE CONFIG"
    print("[22S] Config "..(ok and "sauvegardÃ©e âœ“" or "en mÃ©moire seulement"))
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--        CLOSE / REOPEN
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CloseBtn.MouseButton1Click:Connect(function()
    if not isGuiOpen then return end
    isGuiOpen = false
    TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
        Size     = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0)
    }):Play()
    task.wait(0.35)
    MainFrame.Visible  = false
    ReopenBtn.Visible  = true
end)

ReopenBtn.MouseButton1Click:Connect(function()
    if isGuiOpen then return end
    isGuiOpen = true
    ReopenBtn.Visible  = false
    MainFrame.Visible  = true
    MainFrame.Size     = UDim2.new(0, 0, 0, 0)
    MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    TweenService:Create(MainFrame, TweenInfo.new(0.4, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Size     = UDim2.new(0, FRAME_W, 0, FRAME_H),
        Position = UDim2.new(0.5, -FRAME_W/2, 0.5, -FRAME_H/2)
    }):Play()
end)

-- Keyboard: INSERT pour toggle (PC uniquement)
UserInputService.InputBegan:Connect(function(inp, gp)
    if gp then return end
    if inp.KeyCode == Enum.KeyCode.Insert then
        if isGuiOpen then
            CloseBtn.MouseButton1Click:Fire()
        else
            ReopenBtn.MouseButton1Click:Fire()
        end
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--       DRAG LA FENÃŠTRE (Touch+Mouse)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local dragging, dragStart, dragStartPos = false, nil, nil

Header.InputBegan:Connect(function(inp)
    if inp.UserInputType == Enum.UserInputType.MouseButton1 or
       inp.UserInputType == Enum.UserInputType.Touch then
        dragging      = true
        dragStart     = inp.Position
        dragStartPos  = MainFrame.Position
    end
end)

local dragConn = UserInputService.InputChanged:Connect(function(inp)
    if dragging and (inp.UserInputType == Enum.UserInputType.MouseMovement or
                     inp.UserInputType == Enum.UserInputType.Touch) then
        local delta = inp.Position - dragStart
        MainFrame.Position = UDim2.new(
            dragStartPos.X.Scale, dragStartPos.X.Offset + delta.X,
            dragStartPos.Y.Scale, dragStartPos.Y.Offset + delta.Y
        )
    end
    -- Drag bouton rÃ©ouvrir
    if rbDragging and (inp.UserInputType == Enum.UserInputType.MouseMovement or
                       inp.UserInputType == Enum.UserInputType.Touch) then
        local d = inp.Position - rbDragStart
        ReopenBtn.Position = UDim2.new(
            rbStartPos.X.Scale, rbStartPos.X.Offset + d.X,
            rbStartPos.Y.Scale, rbStartPos.Y.Offset + d.Y
        )
    end
end)
table.insert(allConnections, dragConn)

UserInputService.InputEnded:Connect(function(inp)
    if inp.UserInputType == Enum.UserInputType.MouseButton1 or
       inp.UserInputType == Enum.UserInputType.Touch then
        dragging   = false
        rbDragging = false
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--      ANIMATION D'OUVERTURE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
MainFrame.Size     = UDim2.new(0, 0, 0, 0)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
task.wait(0.1)
TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size     = UDim2.new(0, FRAME_W, 0, FRAME_H),
    Position = UDim2.new(0.5, -FRAME_W/2, 0.5, -FRAME_H/2)
}):Play()

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--       RESPAWN CHARACTER HANDLING
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LocalPlayer.CharacterAdded:Connect(function(char)
    -- RÃ©initialiser les valeurs de base aprÃ¨s respawn
    task.wait(1)
    originalWalkSpeed = 16
    originalJumpPower = 50
    -- RÃ©appliquer les effets actifs
    ApplySpeedBoost()
    ApplyAntiRagdoll()
    ApplySpinBot()
    ApplyUnwalk()
    ApplyAutoSteal()
    ApplyBatAimbot()
    ApplySpeedStealing()
    ApplySpamBot()
    ApplyAutoMove()
    if Config.GalaxyMode then ApplyGalaxyMode() end
    if Config.GalaxySkyBright then ApplyGalaxySkyBright() end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--     MAIN LOOP (FLOCONS + CHEATS)
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local lastSpawn    = 0
local SPAWN_DELAY  = 0.45
local xrayTimer    = 0

RunService.Heartbeat:Connect(function(dt)
    -- â”€â”€ Flocons de neige â”€â”€
    local toRemove = {}
    for i, sf in ipairs(snowflakes) do
        sf.elapsed = sf.elapsed + dt
        sf.y       = sf.y + sf.speed * dt * 0.02
        local sway = math.sin(sf.elapsed * 0.9 + i * 0.3) * 0.007
        local nx   = math.clamp(sf.startX + sf.drift * sf.elapsed * 0.004 + sway, 0, 1)
        sf.label.Position = UDim2.new(nx, 0, sf.y, 0)
        sf.label.Rotation = sf.label.Rotation + sf.speed * dt * 2.5
        if sf.y > 1.1 then table.insert(toRemove, i) end
    end
    for i = #toRemove, 1, -1 do
        if snowflakes[toRemove[i]] then
            snowflakes[toRemove[i]].label:Destroy()
            table.remove(snowflakes, toRemove[i])
        end
    end
    lastSpawn = lastSpawn + dt
    if lastSpawn >= SPAWN_DELAY and #snowflakes < 75 then
        lastSpawn = 0 CreateSnowflake()
    end

    -- â”€â”€ Cheats loop-based â”€â”€
    if Config.GalaxyMode then ApplyGalaxyMode() end

    -- XRay en diffÃ©rÃ© (toutes les 2s pour perf)
    if Config.OptimizerXRay then
        xrayTimer = xrayTimer + dt
        if xrayTimer >= 2 then xrayTimer = 0 ApplyOptimizerXRay() end
    end
end)

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--     INITIALISATION DES EFFETS
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ApplySpeedBoost()
ApplyAntiRagdoll()
ApplySpinBot()
ApplyUnwalk()
ApplyAutoSteal()
ApplyBatAimbot()
ApplySpeedStealing()
ApplySpamBot()
ApplyAutoMove()
if Config.GalaxySkyBright then ApplyGalaxySkyBright() end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--     LOG DE DÃ‰MARRAGE
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local execName = IS_DELTA and "Delta" or IS_XENO and "Xeno" or "Unknown"
local platform = IS_MOBILE and "ğŸ“± Mobile" or "ğŸ’» PC"
print("â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”")
print("â”‚   22S DUELS Menu v3.0 âœ…        â”‚")
print("â”‚   Executor : " .. execName .. "               â”‚")
print("â”‚   Plateforme: " .. platform .. "          â”‚")
print("â”‚   INSERT = toggle menu (PC)     â”‚")
print("â”‚   Bouton â˜° = toggle menu (mob) â”‚")
print("â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜")
